/* QuizModal, SelectorModal, NoteViewerModal, FolderViewerModal */
.modal-qg {
	width: 40%;
	max-height: 80vh;
	height: auto;
	display: flex;
	flex-direction: column;
	overflow: hidden;
	position: relative;
	z-index: 1;
}

/* SelectorModal - wider for two columns */
.modal-qg.selector-modal-qg {
	width: 70%;
}

/* Close button in dedicated top row */
.modal-qg .modal-close-button {
	position: absolute !important;
	width: 32px !important;
	height: 32px !important;
	padding: 8px !important;
	cursor: pointer !important;
	opacity: 0.7 !important;
	transition: opacity 0.2s !important;
	z-index: 200 !important; /* Above everything */
	top: 0.5em !important;
	right: 0.5em !important;
}

.modal-qg .modal-close-button:hover {
	opacity: 1 !important;
}

/* Add top padding to modal header to accommodate close button */
.modal-qg .modal-header {
	padding-top: 2.5em !important; /* Space for close button row */
	position: relative;
}

/* QuizModal, SelectorModal, NoteViewerModal, FolderViewerModal */
.modal-title-qg {
	position: absolute;
	top: 0.5em;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 0.5em;
	z-index: 150;
}

/* Quiz Modal Header Controls */
.modal-header-top-left-qg {
	position: absolute;
	top: 3em; /* Moved down to be below close button row */
	left: 1.5em;
	z-index: 100; /* Ensure link is above flame effect and other elements */
}

.converse-mode-link-qg {
	color: var(--interactive-accent);
	text-decoration: none;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	gap: 0.4em;
	font-size: 0.9em;
	transition: color 0.2s ease;
}

.converse-mode-link-qg:hover {
	color: var(--interactive-accent-hover);
	text-decoration: underline;
}

.converse-mode-icon-qg {
	display: inline-flex;
	align-items: center;
}

.quiz-controls-top-right-qg {
	position: absolute;
	top: 0.5em;
	left: 0.5em;
	display: flex;
	gap: 0.6em;
	align-items: center;
	z-index: 200;
}

.quiz-mute-btn-qg {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	padding: 0.35em 0.6em; /* Slightly larger padding for better touch targets */
	cursor: pointer;
	font-size: 1.1em; /* Slightly smaller icons */
	line-height: 1;
	transition: background-color 0.2s;
	position: relative;
	z-index: 101;
	color: var(--text-normal);
	min-width: 32px; /* Ensure consistent button width */
	display: flex;
	align-items: center;
	justify-content: center;
}

.quiz-mute-btn-qg:hover {
	background-color: var(--background-modifier-hover);
}

.quiz-mute-btn-qg:active {
	background-color: var(--background-modifier-active);
}

/* Position tooltips beneath buttons */
.quiz-controls-top-right-qg .tooltip {
	top: 100% !important;
	bottom: auto !important;
	margin-top: 0.25em !important;
	transform: translateX(-50%) !important;
	left: 50% !important;
}

/* Question Content Wrapper */
.question-content-wrapper-qg {
	position: relative;
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	overflow-y: auto;
	overflow-x: visible;
	z-index: 10;
	background: var(--background-primary);
	padding: 0.5em 0;
}

.quiz-repeat-question-link-qg {
	display: inline-flex;
	align-items: center;
	margin-left: 0.5em;
	color: var(--text-normal);
	text-decoration: none;
	cursor: pointer;
	opacity: 0.7;
	transition: opacity 0.2s, color 0.2s;
	vertical-align: middle;
}

.quiz-repeat-question-link-qg:hover {
	opacity: 1;
	color: var(--text-normal);
	filter: brightness(1.3);
}

/* Keyboard Hotkey Overlays */
.hotkey-overlay-qg {
	position: fixed;
	background-color: var(--background-primary);
	border: 2px solid var(--text-accent);
	border-radius: 6px;
	padding: 0.25em 0.5em;
	font-size: 0.75em;
	font-weight: 600;
	color: var(--text-accent);
	z-index: 10000;
	pointer-events: none;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
	white-space: nowrap;
	animation: hotkey-overlay-fade-in-qg 0.2s ease-out;
}

.hotkey-overlay-tab-qg {
	background-color: var(--background-secondary);
	border-color: var(--text-muted);
	color: var(--text-muted);
	font-size: 0.7em;
}

@keyframes hotkey-overlay-fade-in-qg {
	from {
		opacity: 0;
		transform: translateY(-5px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.keyboard-icon-btn-qg {
	opacity: 0.7;
}

.keyboard-icon-btn-qg:hover {
	opacity: 1;
}

/* SelectorModal, FolderViewerModal */
.modal-content-qg {
	position: relative;
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	overflow: hidden;
}

/* QuizModal */
.modal-content-flex-qg {
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	max-height: 100%;
	overflow-y: auto;
	overflow-x: hidden;
	position: relative; /* Needed for absolute positioning of delete button */
	padding: 1em 0 5em 0; /* Top and bottom padding for better spacing */
}

/* Skip Correct Questions Toggle */
.skip-correct-container-qg {
	display: flex;
	justify-content: center;
	padding: 0.75em 0;
	border-bottom: 1px solid var(--background-modifier-border);
	margin-bottom: 0.5em;
	flex-shrink: 0;
}

.skip-correct-label-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	cursor: pointer;
	font-size: 0.9em;
	color: var(--text-muted);
	transition: color 0.2s ease;
}

.skip-correct-label-qg:hover {
	color: var(--text-normal);
}

.skip-inline-toggle-qg {
	display: inline-flex;
	align-items: center;
	gap: 0.4em;
	cursor: pointer;
	font-size: 0.95em;
	color: var(--text-normal);
	background: var(--background-secondary);
	padding: 0.35em 0.75em;
	border-radius: 999px;
	box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}

.skip-inline-toggle-qg input {
	margin: 0;
}

.skip-correct-label-qg input[type="checkbox"] {
	cursor: pointer;
}

/* SelectorModal, FolderViewerModal */
.item-container-qg {
	flex: 1 1 auto;
	min-height: 100px;
	border: none;
	overflow: hidden;
	position: relative;
	display: flex;
	gap: 1em;
}

/* Two-column layout */
.column-left-qg {
	flex: 1;
	display: flex;
	flex-direction: column;
	min-width: 0;
	overflow: hidden;
	position: relative;
}

/* Search loading overlay */
.search-loading-overlay-qg {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: var(--background-primary);
	opacity: 0.9;
	backdrop-filter: blur(2px);
	display: none;
	align-items: center;
	justify-content: center;
	z-index: 100;
	flex-direction: column;
	gap: 1em;
}

.search-loading-content-qg {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.75em;
	color: var(--text-normal);
}

.search-loading-spinner-qg {
	animation: spin 1s linear infinite;
	font-size: 2em;
}

.search-loading-text-qg {
	font-size: 0.95em;
	color: var(--text-muted);
}

@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

/* Empty search results message */
.search-results-empty-qg {
	padding: 2em 1em;
	text-align: center;
	color: var(--text-muted);
	font-style: italic;
	font-size: 0.9em;
}

/* Add all link in search results */
.search-results-add-all-qg {
	padding: 0.5em 0.75em;
	margin-bottom: 0.5em;
	border-bottom: 1px solid var(--background-modifier-border);
}

.add-all-link-qg {
	color: var(--text-accent);
	text-decoration: none;
	cursor: pointer;
	font-size: 0.9em;
}

.add-all-link-qg:hover {
	text-decoration: underline;
}

/* Date/time picker container */
.date-time-picker-container-qg {
	margin-top: 0.5em;
	padding: 0.25em 0;
}

/* Style the Setting components to be more compact */
.date-time-picker-container-qg .setting-item {
	border-top: none;
	padding: 0.25em 0;
}

.date-time-picker-container-qg .setting-item-name {
	font-size: 0.9em;
	min-width: 50px;
}

.date-time-picker-container-qg .setting-item-control {
	flex: 1;
}

.column-right-qg {
	flex: 1;
	display: flex;
	flex-direction: column;
	min-width: 0;
	overflow: hidden;
	border-left: 2px solid var(--background-modifier-border);
	padding-left: 1em;
}

/* Selected files header */
.selected-files-header-qg {
	display: flex;
	justify-content: flex-end;
	align-items: center;
	padding: 0.5em 0.75em;
	margin-bottom: 0.5em;
	border-bottom: 1px solid var(--background-modifier-border);
	background-color: var(--background-secondary);
	flex-shrink: 0;
}

/* Search container */
.search-container-qg {
	margin: 0.25em 0;
	padding: 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-secondary);
	flex-shrink: 0;
}

/* Search input group - contains input and inline buttons */
.search-input-group-qg {
	display: flex;
	align-items: center;
	gap: 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	overflow: hidden;
	padding-left: 4px;
}

/* Wrapper for search input with clear button */
.search-input-wrapper-qg {
	position: relative;
	flex: 1;
	display: flex;
	align-items: center;
}

.search-input-qg {
	flex: 1;
	border: none;
	background: transparent;
	font-size: 1em;
	outline: none;
	color: var(--text-normal);
	padding: 0.5em 2.5em 0.5em 0.75em; /* Added right padding for clear button */
	min-width: 0;
	width: 100%;
}

.search-input-qg::placeholder {
	color: var(--text-muted);
}

/* Clear button inside search input */
.search-clear-btn-qg {
	position: absolute;
	right: 0.25em;
	top: 50%;
	transform: translateY(-50%);
	color: var(--text-muted);
	font-size: 1.2em;
	line-height: 1;
	cursor: pointer;
	text-decoration: none;
	padding: 0 0.25em;
	user-select: none;
	display: flex;
	align-items: center;
	justify-content: center;
}

.search-clear-btn-qg:hover {
	color: var(--text-normal);
	text-decoration: none;
}

/* Inline buttons container */
.search-input-buttons-qg {
	display: flex;
	gap: 4px;
	align-items: center;
	padding: 4px;
}

/* Inline buttons */
.search-inline-btn-qg {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0.4em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	background-color: var(--background-secondary);
	color: var(--text-muted);
	cursor: pointer;
	transition: all 0.15s ease;
	white-space: nowrap;
	min-width: 32px;
}

.search-inline-btn-qg:hover {
	background-color: var(--background-modifier-hover);
	color: var(--text-accent);
	border-color: var(--text-accent);
}

.search-inline-btn-qg svg {
	width: 16px;
	height: 16px;
	stroke-width: 2;
}

/* Secondary row for dropdown and advanced link */
.search-secondary-row-qg {
	display: flex;
	gap: 0.5em;
	align-items: center;
	justify-content: center;
	margin-top: 0.5em;
}

/* Advanced toggle link */
.advanced-toggle-link-qg {
	font-size: 0.8em;
	color: var(--text-accent);
	cursor: pointer;
	text-decoration: none;
	transition: opacity 0.2s ease;
	display: flex;
	align-items: center;
	gap: 0.4em;
}

.advanced-icon-qg {
	display: inline-flex;
	align-items: center;
	font-size: inherit;
	color: inherit;
}

.advanced-icon-qg svg {
	width: 1em;
	height: 1em;
}

.advanced-text-qg {
	display: inline;
}

.advanced-toggle-link-qg:hover {
	opacity: 0.8;
	text-decoration: underline;
}

.bookmark-btn-qg,
.reset-filters-btn-qg {
	padding: 0.35em 0.75em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	color: var(--text-normal);
	cursor: pointer;
	font-size: 0.85em;
	transition: background-color 0.2s ease;
	white-space: nowrap;
}

.bookmark-btn-qg:hover,
.reset-filters-btn-qg:hover {
	background-color: var(--background-modifier-hover);
}

.load-search-select-qg {
	padding: 0.35em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	color: var(--text-normal);
	cursor: pointer;
	font-size: 0.85em;
	flex: 1;
	max-width: 200px;
}

/* Advanced filters */
.advanced-filters-qg {
	margin-top: 0.5em;
	padding-top: 0.5em;
	border-top: 1px solid var(--background-modifier-border);
	flex-shrink: 0;
}

.filter-group-compact-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}

.filter-row-compact-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
}

.filter-label-compact-qg {
	min-width: 80px;
	font-size: 0.9em;
	color: var(--text-normal);
}

.filter-input-compact-qg,
.filter-select-compact-qg {
	flex: 1;
	padding: 0.35em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	font-size: 0.9em;
	color: var(--text-normal);
}

.filter-select-compact-qg {
	cursor: pointer;
}

.filter-checkbox-compact-qg {
	margin-right: 0.5em;
	cursor: pointer;
}

.filter-checkbox-compact-qg:disabled {
	cursor: not-allowed;
	opacity: 0.5;
}

.filter-checkbox-label-qg {
	font-size: 0.9em;
	color: var(--text-normal);
	cursor: pointer;
}

.filter-checkbox-compact-qg:disabled + .filter-checkbox-label-qg {
	color: var(--text-muted);
	opacity: 0.5;
	cursor: not-allowed;
}

/* Search results section */
.search-results-section-qg {
	padding: 0.35em;
	flex: 1;
	overflow-y: auto;
	overflow-x: hidden;
}

.search-results-header-qg {
	padding: 0.35em 0.5em;
	margin-bottom: 0.5em;
	font-size: 0.85em;
	color: var(--text-muted);
	font-style: italic;
	text-align: center;
	border-bottom: 1px solid var(--background-modifier-border);
}

.search-result-item-qg {
	padding: 0.5em;
	margin: 0.25em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	cursor: pointer;
	transition: background-color 0.2s ease;
}

.search-result-item-qg:hover {
	background-color: var(--background-modifier-hover);
	border-color: var(--text-accent);
}

.search-result-name-qg {
	font-weight: var(--font-medium);
	color: var(--text-normal);
	margin-bottom: 0.15em;
	font-size: 0.95em;
}

.search-result-path-qg {
	font-size: 0.8em;
	color: var(--text-muted);
	font-family: var(--font-monospace);
}

/* Divider between search results and selected files - deprecated, using column layout instead */
.selection-divider-qg {
	display: none;
}

.selection-action-link-qg {
	color: var(--text-accent);
	cursor: pointer;
	text-decoration: none;
	font-size: 0.9em;
	font-weight: var(--font-normal);
}

.selection-action-link-qg:hover {
	text-decoration: underline;
}

/* Selected files section */
.selected-files-section-qg {
	padding: 0.35em;
	flex: 1;
	overflow-y: auto;
	overflow-x: hidden;
}

/* SelectorModal, FolderViewerModal */
.item-qg {
	display: flex;
	flex-wrap: wrap; /* Allow backlinks container to wrap to new line */
	align-items: center;
	padding: 0.4em 0.75em;
	margin: 0;
	border: none;
	font-size: 0.95em;
	gap: 0.5em;
}

/* Checkmark icon for selected items */
.item-checkmark-qg {
	display: flex;
	align-items: center;
	color: var(--text-accent);
	flex-shrink: 0;
}

.item-checkmark-qg svg {
	width: 16px;
	height: 16px;
}

/* Item name span */
.item-name-qg {
	flex: 1;
	min-width: 0;
}

/* Items with zero tokens - faded and strikethrough */
.item-zero-tokens-qg {
	opacity: 0.5;
	text-decoration: line-through;
	color: var(--text-muted);
	position: relative;
	cursor: help;
}

.item-zero-tokens-qg .item-checkmark-qg {
	opacity: 0.5;
}

.item-zero-tokens-qg::before {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	top: 50%;
	height: 1px;
	background-color: var(--text-muted);
	opacity: 0.6;
}

.item-qg:nth-child(even) {
	background-color: var(--background-secondary);
}

.item-qg:nth-child(odd) {
	background-color: var(--background-primary);
}

/* Backlinks container - nested under parent notes, breaks out of flex row */
.backlinks-container-qg {
	/* Force to new line by taking full width */
	flex-basis: 100%;
	flex-shrink: 0;
	width: 100%;
	min-width: 100%;
	max-width: 100%;
	order: 999; /* Ensure it appears after all other flex items */
	
	/* Break out of flex flow - start on new line */
	align-self: flex-start;
	
	margin-left: 2em;
	margin-top: 0.5em;
	margin-bottom: 0;
	padding-left: 0.5em;
	border-left: 2px solid var(--background-modifier-border);
	
	/* Display as block container for vertical stacking */
	display: block;
	background: transparent;
}

/* Backlink item styling - listed underneath parent like file tree */
.backlink-item-qg {
	opacity: 1;
	/* Display as block to stack vertically */
	display: flex;
	margin-top: 0;
	margin-bottom: 0;
	/* Inherit background from parent - backlinks share the same row color */
	background: inherit !important;
}

/* Disabled hyperlink indicator for backlinks */
.backlink-indicator-qg {
	cursor: default !important;
	opacity: 0.5;
}

/* Ensure backlink items align buttons with parent items */
.backlink-item-qg {
	/* Match parent item's button alignment */
	justify-content: flex-start;
	align-items: center;
	/* Ensure same structure as parent items */
	display: flex;
}

/* Ensure tokens element has same margin as parent items */
.backlink-item-qg .item-tokens-qg {
	margin-left: auto;
	margin-right: 0.75em;
}

/* Ensure buttons are aligned - match parent button spacing */
.backlink-item-qg .item-button-qg {
	margin-right: 0.5em;
	flex-shrink: 0;
}

/* Ensure backlink indicator button matches parent remove button size and position */
.backlink-item-qg .backlink-indicator-qg {
	width: auto;
	height: auto;
	flex-shrink: 0;
	margin-right: 0; /* Match parent remove button - no margin on last button */
}

/* SelectorModal, FolderViewerModal */
.item-button-qg {
	height: initial;
	padding: initial;
	margin-right: 0.5em;
	background-color: transparent !important;
	box-shadow: none !important;
	cursor: pointer;
	flex-shrink: 0;
}

/* Last button in item (remove button) should have no right margin for alignment */
.item-qg .item-button-qg:last-child {
	margin-right: 0;
}

/* SelectorModal, FolderViewerModal */
.item-button-qg:hover {
	background-color: revert !important;
}

/* SelectorModal, FolderViewerModal */
.item-tokens-qg {
	margin-left: auto;
	margin-right: 0.75em;
	padding-left: 0.75em;
	color: var(--text-muted);
	font-size: 0.9em;
	white-space: nowrap;
}

/* QuizModal, SelectorModal */
.modal-button-container-qg {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.6rem;
	margin: 0.25em 0;
	padding: 0.25em 0;
	flex-shrink: 0;
}

/* Delete button positioned at bottom left */
.quiz-delete-button-bottom-left-qg {
	position: absolute;
	bottom: 1.5em;
	left: 1.5em;
	z-index: 100;
}


/* Hint button positioned at bottom right */
.quiz-hint-button-bottom-right-qg {
	position: absolute;
	bottom: 1.5em;
	right: 1.5em;
	z-index: 100;
}

/* Question counter positioned at bottom center */
.quiz-question-counter-bottom-qg {
	position: absolute;
	bottom: 1.55em;
	left: 50%;
	transform: translateX(-50%);
	z-index: 100;
	display: flex;
	align-items: center;
	gap: 0.75em;
	height: 2em;
}

.quiz-counter-text-qg {
	color: var(--text-faint);
	font-size: 0.9em;
	white-space: nowrap;
	user-select: none;
	line-height: 2em;
	display: flex;
	align-items: center;
}

.quiz-pagination-button-qg {
	background: transparent;
	border: none;
	color: var(--text-muted);
	font-size: 1.5em;
	cursor: pointer;
	padding: 0.25em 0.5em;
	line-height: 1;
	transition: color 0.2s ease, transform 0.1s ease;
	border-radius: 4px;
}

.quiz-pagination-button-qg:hover {
	color: var(--text-normal);
	background: var(--background-modifier-hover);
}

.quiz-pagination-button-qg:active {
	transform: scale(0.95);
}

.quiz-pagination-button-qg:disabled {
	opacity: 0.4;
	cursor: not-allowed;
	transform: none;
	background: transparent;
}

.quiz-hint-button-qg {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	padding: 0.25em 0.5em;
	cursor: pointer;
	font-size: 1.2em;
	line-height: 1;
	transition: background-color 0.2s;
	color: var(--text-normal);
	display: flex;
	align-items: center;
	justify-content: center;
	width: 2em;
	height: 2em;
}

.quiz-hint-button-qg:hover:not(:disabled) {
	background-color: var(--background-modifier-hover);
}

.quiz-hint-button-qg:active:not(:disabled) {
	background-color: var(--background-modifier-active);
}

.quiz-hint-button-qg:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Blur background when quiz modal is open */
.modal-qg ~ .modal-bg,
body:has(.modal-qg) .workspace-leaf:not(:has(.modal-qg)),
body:has(.modal-qg) .workspace-split,
body:has(.modal-qg) .workspace-tabs {
	filter: blur(5px);
	transition: filter 0.3s ease;
}

/* Cursor leave countdown overlay */
.cursor-leave-countdown-qg {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	z-index: 10000;
	background: rgba(0, 0, 0, 0.9);
	border: 3px solid var(--text-error);
	border-radius: 12px;
	padding: 2em;
	text-align: center;
	pointer-events: none;
	animation: pulse-warning 0.5s ease-in-out infinite;
}

.countdown-number-qg {
	font-size: 6em;
	font-weight: bold;
	color: var(--text-error);
	line-height: 1;
	margin-bottom: 0.3em;
	font-family: var(--font-monospace);
}

.countdown-message-qg {
	font-size: 1.2em;
	color: var(--text-normal);
	font-weight: 500;
}

@keyframes pulse-warning {
	0%, 100% {
		box-shadow: 0 0 0 0 rgba(var(--text-error-rgb, 255, 0, 0), 0.7);
	}
	50% {
		box-shadow: 0 0 0 20px rgba(var(--text-error-rgb, 255, 0, 0), 0);
	}
}

.model-display-container-qg {
	display: flex;
	justify-content: center;
	width: 100%;
	margin-top: 0.25em;
}

.model-display-link-qg {
	color: var(--text-muted);
	font-size: 0.85em;
	text-decoration: none;
	cursor: pointer;
	transition: color 0.2s ease;
}

.model-display-link-qg:hover {
	color: var(--text-accent);
	text-decoration: underline;
}

.question-count-container-qg {
	display: flex;
	justify-content: center;
	width: 100%;
	margin-top: 0.25em;
}

.question-count-text-qg {
	color: var(--text-muted);
	font-size: 0.85em;
}

/* Question Type Order Drag-Drop UI */
.question-type-order-container-qg {
	margin-top: 0.5em;
	width: 100%;
}

.question-type-order-list-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
	margin-top: 0.5em;
}

.question-type-order-item-qg {
	display: flex;
	align-items: center;
	gap: 0.75em;
	padding: 0.75em;
	background: var(--background-secondary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	cursor: move;
	user-select: none;
	transition: all 0.2s ease;
	touch-action: none; /* Better touch handling on mobile */
}

.question-type-order-item-qg:hover {
	background: var(--background-modifier-hover);
	border-color: var(--interactive-accent);
}

.question-type-order-item-qg.dragging-qg {
	opacity: 0.5;
	transform: scale(0.95);
}

.question-type-order-item-qg.drag-over-qg {
	border-color: var(--interactive-accent);
	background: var(--background-modifier-active);
	transform: scale(1.02);
}

.question-type-order-drag-handle-qg {
	color: var(--text-muted);
	cursor: grab;
	flex-shrink: 0;
}

.question-type-order-drag-handle-qg:active {
	cursor: grabbing;
}

.question-type-order-label-container-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	flex: 1;
}

.question-type-order-icon-qg {
	flex-shrink: 0;
	color: var(--text-muted);
	display: flex;
	align-items: center;
	min-width: 1em;
}

.question-type-order-icon-qg svg {
	width: 1em;
	height: 1em;
	display: block;
}

.question-type-name-container-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
}

.question-type-icon-qg {
	flex-shrink: 0;
	color: var(--text-muted);
	display: flex;
	align-items: center;
	min-width: 1em;
}

.question-type-icon-qg svg {
	width: 1em;
	height: 1em;
	display: block;
}

.question-type-order-label-qg {
	font-size: 0.9em;
}

.question-type-order-index-qg {
	flex-shrink: 0;
	width: 1.5em;
	height: 1.5em;
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--interactive-accent);
	color: var(--text-on-accent);
	border-radius: 50%;
	font-size: 0.85em;
	font-weight: 600;
}

.question-type-order-info-qg {
	margin-top: 0.5em;
}

/* Mobile-friendly adjustments */
@media (max-width: 768px) {
	.question-type-order-item-qg {
		padding: 1em;
		min-height: 3em;
	}
	
	.question-type-order-drag-handle-qg {
		font-size: 1.2em;
	}
	
	.question-type-order-label-qg {
		font-size: 1em;
	}
}

/* SelectorModal, ModalButton */
.modal-button-qg {
	cursor: pointer;
	box-shadow: none !important;
}

/* Generate quiz button - wider primary button */
.modal-button-qg.mod-cta {
	min-width: 200px;
	padding: 0.6em 1.2em;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 0.5em;
}

/* SelectorModal, ModalButton */
.modal-button-qg:disabled {
	cursor: not-allowed;
}

/* NoteAndFolderSelector, NoteViewerModal, FolderViewerModal */
.move-left-qg {
	position: absolute;
	left: 9.5%;
}

/* NoteAndFolderSelector, NoteViewerModal, FolderViewerModal */
.move-right-qg {
	position: absolute;
	right: 9.5%;
}

/* NoteAndFolderSelector, NoteViewerModal, FolderViewerModal */
.remove-opacity-qg {
	opacity: 0 !important;
}

/* Content Preview Popover */
.content-preview-popover-qg {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	padding: 0;
	overflow: hidden;
	display: none;
}

.content-preview-title-qg {
	padding: 0.75em 1em;
	border-bottom: 1px solid var(--background-modifier-border);
	font-weight: 600;
	font-size: 0.9em;
	background: var(--background-secondary);
	color: var(--text-normal);
}

.content-preview-content-qg {
	max-height: 500px;
	overflow-y: auto;
	padding: 1em;
	color: var(--text-normal);
}

.content-preview-content-qg::-webkit-scrollbar {
	width: 8px;
}

.content-preview-content-qg::-webkit-scrollbar-track {
	background: var(--background-secondary);
}

.content-preview-content-qg::-webkit-scrollbar-thumb {
	background: var(--background-modifier-border-hover);
	border-radius: 4px;
}

.content-preview-content-qg::-webkit-scrollbar-thumb:hover {
	background: var(--background-modifier-border);
}

/* Raw markdown display */
.content-preview-markdown-qg {
	margin: 0;
	padding: 0;
	background: transparent;
	border: none;
	font-family: var(--font-monospace);
	font-size: 0.9em;
	line-height: 1.6;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
	color: var(--text-normal);
}

.content-preview-markdown-qg code {
	display: block;
	background: transparent;
	padding: 0;
	border: none;
	font-family: var(--font-monospace);
	color: var(--text-normal);
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}

/* SelectorModal */
.prompt-tokens-qg {
	display: flex;
	justify-content: center;
	align-items: center;
	margin: 0.2em 0;
	font-size: 0.85em;
	flex-shrink: 0;
}

.note-count-clickable-qg {
	color: var(--text-accent);
	cursor: pointer;
	transition: opacity 0.2s ease;
}

.note-count-clickable-qg:hover {
	opacity: 0.7;
	text-decoration: underline;
}

.token-separator-qg {
	padding: 0 0.5em;
}

/* Token loading indicator */
.token-loading-container-qg {
	display: inline-flex;
	align-items: center;
	gap: 0.5em;
}

.token-loader-wrapper-qg {
	display: inline-flex;
	align-items: center;
}

.token-loader-circle-qg {
	width: 16px;
	height: 16px;
	transform: rotate(-90deg);
}

.token-loader-circle-qg circle {
	stroke: var(--interactive-accent);
	transition: stroke-dashoffset 0.3s ease;
}

.token-loading-text-qg {
	color: var(--text-muted);
}

.token-stop-btn-qg {
	background: transparent;
	border: 1px solid var(--background-modifier-border);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	cursor: pointer;
	color: var(--text-muted);
	font-size: 0.9em;
	transition: all 0.2s;
}

.token-stop-btn-qg:hover {
	background-color: var(--background-modifier-hover);
	color: var(--text-error);
	border-color: var(--text-error);
}

.token-restart-container-qg {
	display: inline-flex;
	align-items: center;
	gap: 0;
}

.token-cancelled-text-qg {
	color: var(--text-muted);
	font-style: italic;
}

.token-restart-btn-qg {
	display: inline-flex;
	align-items: center;
	gap: 0.2em;
	color: var(--text-accent);
	cursor: pointer;
	text-decoration: underline;
	text-decoration-style: dotted;
	background: none;
	border: none;
	padding: 0;
	font-size: inherit;
}

.token-restart-btn-qg:hover {
	color: var(--text-accent-hover);
}

.token-restart-icon-qg {
	display: inline-flex;
	width: 14px;
	height: 14px;
}

.no-content-message-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
	font-style: italic;
}

/* QuizModal */
.quiz-divider-qg {
	margin: 1.5em 0 0 0;
	flex-shrink: 0;
}

/* NoteAndFolderSelector */
.suggest-modal-content-qg {
	width: 40%;
	max-height: 80%;
	top: 10%;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion,
FillInTheBlankQuestion, MatchingQuestion, ShortOrLongAnswerQuestion */
.question-container-qg {
	display: flex;
	flex-direction: column;
	flex-grow: 1;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion,
FillInTheBlankQuestion, MatchingQuestion, ShortOrLongAnswerQuestion */
.question-qg {
	text-align: center;
	font-size: var(--font-text-size);
	word-wrap: break-word;
	overflow-wrap: break-word;
	white-space: normal;
	padding: 1.5em 2em 1.5em 2em;
	line-height: 1.6;
}

/* MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.multiple-choice-container-qg,
.select-all-that-apply-container-qg,
.matching-container-qg {
	display: flex;
	gap: 1.25em;
	padding: 0 1em 2em 1em;
	position: relative;
	min-height: 200px;
	flex-direction: column;
}

/* TrueFalseQuestion - horizontal layout */
.true-false-container-qg {
	display: flex;
	gap: 2em;
	padding: 0 1em 2em 1em;
	position: relative;
	min-height: 200px;
	flex-direction: row;
	justify-content: center;
}

.matching-left-column-qg,
.matching-right-column-qg {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 1em;
}

/* MatchingQuestion - two column layout */
.matching-container-qg {
	flex-direction: row;
	align-items: stretch;
	justify-content: center;
	gap: 2.5em;
	padding-left: 2em;
	padding-right: 2em;
}

.matching-left-column-qg,
.matching-right-column-qg {
	max-width: 45%;
}

@media (max-width: 820px) {
	.matching-container-qg {
		flex-direction: column;
		align-items: stretch;
		gap: 1.5em;
	}

	.matching-left-column-qg,
	.matching-right-column-qg {
		max-width: 100%;
	}
}

/* SelectAllThatApplyQuestion */
.select-all-that-apply-container-qg {
	padding-bottom: 1em;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.true-false-button-qg,
.multiple-choice-button-qg,
.select-all-that-apply-button-qg,
.matching-button-qg {
	width: 100%;
	min-height: 3.5em;
	border: 0.125em solid;
	background-color: transparent !important;
	box-shadow: none !important;
	white-space: normal !important;
	opacity: 1 !important;
	text-align: left;
	font-size: 1em;
	font-weight: var(--font-normal);
	cursor: pointer;
	padding: 1em 1.25em;
	display: flex;
	align-items: center;
	word-wrap: break-word;
	overflow-wrap: break-word;
}

.matching-button-qg {
	cursor: grab;
	padding: 0.75rem;
	min-height: 3em;
}

.matching-button-qg:active {
	cursor: grabbing;
}

/* Focused choice highlighting */
.focused-choice-qg {
	outline: 2px solid var(--interactive-accent) !important;
	outline-offset: 2px !important;
	box-shadow: 0 0 0 2px var(--background-primary), 0 0 0 4px var(--interactive-accent) !important;
}

/* Flame effect based on CodePen: https://codepen.io/simeydotme/pen/PoyzbPM */
:root {
	--glitter-texture: url("https://assets.codepen.io/13471/silver-glitter-background.png");
}

.modal-qg.flame-effect-qg {
	position: relative;
	overflow: visible !important;
	isolation: isolate;
}

.modal-qg.flame-effect-qg::before {
	content: "";
	position: absolute;
	top: -60px;
	left: 0;
	right: 0;
	height: 80px;
	pointer-events: none;
	background-image: 
		var(--glitter-texture),
		var(--glitter-texture),
		linear-gradient(
			0deg,
			transparent 0%,
			#ff8951 15%,
			#ffcc33 30%,
			transparent 65%
		);
	background-size: 
		350px 500px,
		400px 650px,
		100% 100%;
	background-blend-mode: hard-light, color-dodge;
	background-position: 
		0px 0px,
		0px 0px,
		50% 100%;
	background-repeat: repeat, repeat, no-repeat;
	mix-blend-mode: lighten;
	filter: brightness(4) blur(7px) contrast(5);
	animation: fire-qg 1.75s linear infinite;
	-webkit-filter: brightness(4) blur(7px) contrast(5);
	z-index: -1;
}

@keyframes fire-qg {
	0% {
		background-position: 
			center 0px,
			center 0px,
			50% 0%,
			center center;
	}
	100% {
		background-position: 
			center -500px,
			center -650px,
			50% 0%,
			center center;
	}
}

/* Number key overlay on answer choices */
[data-choice-number] {
	position: relative;
}

.hotkey-overlay-qg[data-key^="num-"] {
	font-size: 0.85em;
	padding: 0.2em 0.4em;
	min-width: 1.5em;
	text-align: center;
	background-color: var(--interactive-accent);
	color: var(--text-on-accent);
	border-radius: 0.25em;
	font-weight: 600;
	z-index: 1000;
	pointer-events: none;
}

/* TrueFalseQuestion */
.true-false-button-qg {
	padding: 0.75rem;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.true-false-button-qg:hover,
.multiple-choice-button-qg:hover,
.select-all-that-apply-button-qg:hover,
.matching-button-qg:hover {
	border-color: hsl(210, 80%, 70%);
	transition: border-color 0.3s ease;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.true-false-button-qg:disabled,
.multiple-choice-button-qg:disabled,
.select-all-that-apply-button-qg:disabled,
.matching-button-qg:disabled {
	border-color: initial;
	cursor: default;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.correct-choice-qg {
	border-color: var(--color-green) !important;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.incorrect-choice-qg {
	border-color: var(--color-red) !important;
}

/* TrueFalseQuestion, MultipleChoiceQuestion, SelectAllThatApplyQuestion, MatchingQuestion */
.not-selected-qg {
	border-style: dashed;
}

/* SelectAllThatApplyQuestion, MatchingQuestion */
.selected-choice-qg {
	border-color: hsl(210, 80%, 50%) !important;
}

/* SelectAllThatApplyQuestion, MatchingQuestion */
.submit-answer-qg {
	width: auto;
	min-width: 200px;
	max-width: 400px;
	margin: 1em auto 0 auto;
	padding: 0.75em 2em !important;
	border: none !important;
	background: var(--interactive-accent) !important;
	background-color: var(--interactive-accent) !important;
	color: var(--text-on-accent) !important;
	font-size: 1em !important;
	font-weight: 600 !important;
	cursor: pointer;
	border-radius: 6px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
	transition: all 0.2s ease;
}

/* SelectAllThatApplyQuestion, MatchingQuestion */
.submit-answer-qg:hover:not(:disabled) {
	background: var(--interactive-accent-hover) !important;
	background-color: var(--interactive-accent-hover) !important;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
	transform: translateY(-1px);
}

/* SelectAllThatApplyQuestion, MatchingQuestion */
.submit-answer-qg:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	transform: none !important;
}

/* FillInTheBlankQuestion, ShortOrLongAnswerQuestion */
.input-container-qg {
	display: flex;
	flex-direction: column;
	flex-grow: 1;
	justify-content: flex-start;
	gap: 1em;
	padding: 0 2em 2em 2em;
}

/* FillInTheBlankQuestion, ShortOrLongAnswerQuestion */
.instruction-footnote-qg {
	font-size: 0.9em;
	text-align: center;
	color: var(--text-muted);
	line-height: 1.6;
	padding: 0 1em;
}

/* FillInTheBlankQuestion - Inline inputs */
.fill-blank-question-qg {
	text-align: center;
	font-size: var(--font-text-size);
	line-height: 2;
	display: block;
	margin-bottom: 1em;
}

.fill-blank-text-qg {
	display: inline;
	vertical-align: middle;
}

.fill-blank-text-qg > p {
	display: inline;
	margin: 0;
}

.fill-blank-text-qg > p + p {
	margin-left: 0.25em;
}

.fill-blank-input-qg {
	display: inline-block;
	min-width: 80px;
	max-width: 200px;
	padding: 0.25em 0.5em;
	margin: 0 0.15em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	background: var(--background-primary);
	color: var(--text-normal);
	font-size: var(--font-text-size);
	text-align: center;
	vertical-align: middle;
	line-height: 1.5;
	outline: none;
	transition: border-color 0.2s ease;
}

.fill-blank-input-qg:focus {
	border-color: var(--interactive-accent);
}

.fill-blank-input-qg:disabled {
	opacity: 0.6;
	cursor: not-allowed;
}

.fill-blank-revealed-notice-qg {
	text-align: center;
	color: var(--text-muted);
	font-size: var(--font-ui-smaller);
	margin-bottom: 0.5em;
}

/* ShortOrLongAnswerQuestion */
.limit-height-qg {
	height: auto;
	margin-top: 1.5em;
}

/* ShortOrLongAnswerQuestion */
.answer-qg {
	width: 100%;
	height: auto;
	border: 2px solid var(--background-modifier-border);
	border-radius: 8px;
	margin: 0 2em 1em 2em;
	padding: 1em 1.25em;
	background-color: var(--background-secondary) !important;
	box-shadow: none !important;
	white-space: normal !important;
	text-align: left;
	font-size: 1em;
	line-height: 1.6;
}

/* ShortOrLongAnswerQuestion - Override button container */
.override-container-qg {
	display: flex;
	justify-content: center;
	gap: 0.5em;
	margin: 0.75em 0;
}

/* ShortOrLongAnswerQuestion - Override button */
.override-button-qg {
	padding: 0.5em 1.25em;
	color: var(--text-on-accent);
	border: none;
	border-radius: 0.25em;
	cursor: pointer;
	font-size: 0.95em;
	transition: opacity 0.2s ease;
}

.override-button-qg:hover {
	opacity: 0.8;
}

/* Red "I was correct" button */
.override-button-red-qg {
	background-color: var(--text-error);
}

/* Green "Got it!" button */
.override-button-green-qg {
	background-color: var(--text-success);
}

/* ShortOrLongAnswerQuestion - Override notice */
.override-notice-qg {
	text-align: center;
	color: var(--text-success);
	font-weight: 500;
	margin: 0.5em 0;
	font-size: 0.95em;
}

/* MatchingQuestion */
.matching-button-container-qg {
	position: relative;
	display: flex;
	align-items: center;
}

.matching-lines-overlay-qg {
	pointer-events: none;
}

.matching-line-qg {
	pointer-events: none;
}

.matching-drag-line-qg {
	pointer-events: none;
	opacity: 0.7;
}

/* Loading spinner animation */
@keyframes spin {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}

.loading-spinner-qg {
	animation: spin 1s linear infinite;
}

/* AnswerInput */
.text-area-input-qg {
	padding: 1em 1.25em;
	line-height: 1.6;
	resize: none;
	border: 2px solid var(--background-modifier-border);
	border-radius: 8px;
	background: var(--background-primary);
	color: var(--text-normal);
	font-size: 1em;
	min-height: 80px;
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
	font-family: var(--font-text);
}

.text-area-input-qg:focus {
	outline: none;
	border-color: var(--interactive-accent);
	box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.1);
}

.text-area-input-qg::placeholder {
	color: var(--text-faint);
	font-style: italic;
}

.text-area-input-qg:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	background: var(--background-secondary);
}

/* settings */
.generation-container-qg {
	display: grid;
	grid-template-columns: 1fr 1fr;
	column-gap: 1rem;
}

/* settings */
.first-item-qg {
	padding-top: 0.75em !important;
	border-top: 1px solid var(--background-modifier-border) !important;
}

/* FilterBuilderModal - uses same layout as other modals */

.filters-container-qg {
	margin: 1em 0;
}

.filter-group-qg {
	padding: 1em;
	margin: 1em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.5em;
	background-color: var(--background-secondary);
}

.filter-group-header-qg {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 0.5em;
}

.filter-item-qg {
	padding: 0.75em;
	margin: 0.5em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
}

.filter-item-header-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	margin-bottom: 0.5em;
}

.filter-negate-toggle-qg {
	padding: 0.25em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-secondary);
	color: var(--text-muted);
	font-size: 0.75em;
	font-weight: var(--font-semibold);
	cursor: pointer;
	transition: all 0.2s ease;
	min-width: 40px;
	text-align: center;
}

.filter-negate-toggle-qg:hover {
	border-color: var(--text-accent);
	background-color: var(--background-modifier-hover);
}

.filter-negate-toggle-qg.active {
	background-color: var(--interactive-accent);
	color: var(--text-on-accent);
	border-color: var(--interactive-accent);
}

.filter-type-label-qg {
	font-weight: var(--font-semibold);
	color: var(--text-accent);
	flex-grow: 1;
}

.filter-remove-button-qg {
	background: transparent;
	border: none;
	font-size: 1.5em;
	line-height: 1;
	cursor: pointer;
	color: var(--text-muted);
	padding: 0 0.5em;
	margin-left: auto;
}

.filter-remove-button-qg:hover {
	color: var(--color-red);
}

.filter-item-content-qg {
	margin-top: 0.5em;
}

.add-filter-inline-qg {
	padding: 1em;
	margin: 0.5em 0;
	border: 2px dashed var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
}

.add-filter-inline-qg .setting-item {
	border: none;
	padding: 0;
}

.compact-filter-setting-qg {
	padding: 0.5em 0 !important;
	border: none !important;
}

.compact-filter-setting-qg .setting-item-name {
	min-width: 80px;
	font-size: 0.9em;
}

.compact-filter-setting-qg .setting-item-control {
	display: flex;
	gap: 0.5em;
	align-items: center;
	flex-wrap: wrap;
}

.inline-filter-setting-qg {
	display: inline-flex !important;
	flex-direction: row !important;
	align-items: center !important;
	padding: 0 !important;
	border: none !important;
}

.inline-filter-setting-qg .setting-item-info {
	display: none;
}

.filter-row-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	flex-wrap: wrap;
}

.toggle-label-qg {
	margin-left: 0.5em;
	font-size: 0.9em;
	color: var(--text-muted);
}

.no-filters-message-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
}

.match-count-container-qg {
	display: flex;
	justify-content: center;
	margin: 1em 0;
}

.match-count-qg {
	padding: 0.5em 1em;
	border-radius: 0.25em;
	background-color: var(--background-modifier-border);
	color: var(--text-normal);
	font-weight: var(--font-semibold);
	font-size: 1.1em;
	transition: background-color 0.2s ease;
}

.clickable-match-count-qg {
	cursor: pointer;
}

.clickable-match-count-qg:hover {
	background-color: var(--background-modifier-border-hover);
}

.bookmark-section-qg {
	margin: 1.5em 0;
	padding: 1em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.5em;
	background-color: var(--background-secondary);
}

/* SelectorModal content selection */
.content-selection-container-qg {
	margin: 0.25em 0;
	padding: 0.4em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-secondary);
	display: flex;
	flex-direction: column;
	gap: 0.3em;
	flex-shrink: 0;
}

.content-selection-label-qg {
	font-size: 0.85em;
	font-weight: var(--font-medium);
}

.content-selection-select-qg {
	padding: 0.3em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	color: var(--text-normal);
	font-size: 0.85em;
	cursor: pointer;
	flex: 1;
}

/* SelectorModal backlinks */
.backlink-container-qg {
	margin: 0.25em 0;
	padding: 0.4em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-secondary);
	display: flex;
	flex-direction: column;
	gap: 0.3em;
	flex-shrink: 0;
}

.backlink-compact-row-qg {
	display: flex;
	align-items: center;
	gap: 0.4em;
}

.backlink-row-qg {
	display: flex;
	align-items: center;
	gap: 0.4em;
	margin-top: 0.5em;
}

.backlink-label-qg {
	font-size: 0.85em;
	font-weight: var(--font-medium);
}

.backlink-checkbox-qg {
	cursor: pointer;
	width: 14px;
	height: 14px;
}

/* SelectorModal auto-tagging */
.auto-tag-container-qg {
	margin: 0.25em 0;
	padding: 0.4em 0.5em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-secondary);
	display: flex;
	flex-direction: column;
	gap: 0.3em;
	flex-shrink: 0;
}

.auto-tag-compact-row-qg {
	display: flex;
	align-items: center;
	gap: 0.4em;
}

.auto-tag-label-qg {
	font-size: 0.85em;
	font-weight: var(--font-medium);
}

.auto-tag-checkbox-qg {
	cursor: pointer;
	width: 14px;
	height: 14px;
}

.auto-tag-options-qg {
	display: flex;
	gap: 0.4em;
	align-items: center;
}

.auto-tag-input-qg {
	flex: 1;
	padding: 0.3em 0.45em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	font-size: 0.85em;
}

.auto-tag-select-qg {
	padding: 0.3em 0.45em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	background-color: var(--background-primary);
	font-size: 0.85em;
	cursor: pointer;
	min-width: 100px;
}

.compact-setting-qg {
	padding-top: 0 !important;
	padding-bottom: 0 !important;
	border: none !important;
}

.compact-setting-qg .setting-item-info {
	flex-grow: 1;
}

.compact-setting-qg .setting-item-name {
	font-size: 0.95em;
}

/* Filter settings */
.bookmarks-container-qg {
	margin: 1em 0;
}

.bookmark-item-qg {
	padding: 1em;
	margin: 1em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.5em;
	background-color: var(--background-secondary);
}

.bookmark-header-qg {
	margin-bottom: 0.5em;
}

.bookmark-info-qg {
	color: var(--text-muted);
	font-size: 0.9em;
	margin-bottom: 0.75em;
}

.bookmark-actions-qg {
	display: flex;
	gap: 0.5em;
	margin-top: 0.75em;
}

.bookmark-command-info-qg {
	margin-top: 0.5em;
	padding: 0.5em;
	border-radius: 0.25em;
	background-color: var(--background-primary);
	font-family: var(--font-monospace);
}

.no-bookmarks-message-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
	font-style: italic;
}

/* Matching Files Modal */
.matching-files-modal-qg {
	width: 500px;
	max-height: 70%;
}

.matching-files-content-qg {
	overflow-y: auto;
	max-height: 60vh;
}

.file-list-qg {
	margin: 0.5em 0;
}

.file-list-item-qg {
	padding: 0.75em;
	margin: 0.5em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	cursor: pointer;
	transition: background-color 0.2s ease;
}

.file-list-item-qg:hover {
	background-color: var(--background-modifier-hover);
	border-color: var(--text-accent);
}

.file-name-qg {
	font-weight: var(--font-semibold);
	color: var(--text-normal);
	margin-bottom: 0.25em;
}

.file-path-qg {
	font-size: 0.85em;
	color: var(--text-muted);
	font-family: var(--font-monospace);
}

.no-matches-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
	font-style: italic;
}

/* Bookmark Manager Modal */
.bookmark-manager-container {
	margin: 1em 0;
	max-height: 60vh;
	overflow-y: auto;
}

.bookmark-manager-item {
	padding: 1em;
	margin: 0.75em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.5em;
	background-color: var(--background-secondary);
}

.bookmark-manager-header {
	margin-bottom: 0.5em;
	font-size: 1.1em;
}

.bookmark-manager-info {
	margin-bottom: 0.75em;
	color: var(--text-muted);
	font-size: 0.9em;
}

.bookmark-manager-actions {
	display: flex;
	gap: 0.5em;
	flex-wrap: wrap;
}

.bookmark-manager-actions button {
	padding: 0.4em 0.8em;
	font-size: 0.9em;
}

.manage-bookmarks-btn-qg {
	padding: 0.4em 0.8em;
	background-color: var(--interactive-normal);
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.25em;
	cursor: pointer;
	font-size: 0.9em;
	transition: background-color 0.2s ease;
}

.manage-bookmarks-btn-qg:hover {
	background-color: var(--interactive-hover);
}

/* Load Search Modal */
.load-search-list-qg {
	margin: 1em 0;
	max-height: 60vh;
	overflow-y: auto;
}

.load-search-item-qg {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 1em;
	margin: 0.5em 0;
	border: 1px solid var(--background-modifier-border);
	border-radius: 0.5em;
	transition: all 0.2s ease;
}

.load-search-item-qg:hover {
	background-color: var(--background-modifier-hover);
	border-color: var(--text-accent);
}

.load-search-content-qg {
	flex: 1;
	cursor: pointer;
}

.load-search-name-qg {
	font-weight: var(--font-semibold);
	font-size: 1.05em;
	margin-bottom: 0.3em;
	color: var(--text-normal);
}

.load-search-info-qg {
	font-size: 0.85em;
	color: var(--text-muted);
}

.load-search-delete-btn-qg {
	flex-shrink: 0;
	padding: 0.4em;
	background: transparent;
	border: none;
	cursor: pointer;
	color: var(--text-muted);
	border-radius: 4px;
	transition: all 0.2s ease;
}

.load-search-delete-btn-qg:hover {
	background-color: var(--background-modifier-error);
	color: var(--text-error);
}

.load-search-empty-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
	font-size: 0.95em;
	line-height: 1.5;
}

/* ProgressModal */
.progress-modal-qg {
	width: 500px;
	max-width: 90%;
	cursor: wait;
}

.progress-content-qg {
	padding: 2em;
	display: flex;
	flex-direction: column;
	gap: 1.5em;
}

.progress-title-qg {
	text-align: center;
	font-size: 1.2em;
	font-weight: 600;
	margin-bottom: 0.5em;
}

.progress-status-qg {
	text-align: center;
	font-size: 1em;
	color: var(--text-normal);
	min-height: 1.5em;
}

.progress-status-qg.progress-error-qg {
	color: var(--text-error);
}

.progress-bar-container-qg {
	width: 100%;
	height: 24px;
	background-color: var(--background-secondary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 12px;
	overflow: hidden;
	position: relative;
}

.progress-bar-qg {
	height: 100%;
	background: linear-gradient(90deg, var(--interactive-accent), var(--interactive-accent-hover));
	border-radius: 12px;
	transition: width 0.3s ease;
	position: relative;
	overflow: hidden;
}

.progress-bar-qg::after {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(
		90deg,
		transparent 0%,
		rgba(255, 255, 255, 0.3) 50%,
		transparent 100%
	);
	animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

.progress-bar-qg.pulsing {
	animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.7;
	}
}

.progress-percent-qg {
	text-align: center;
	font-size: 0.9em;
	color: var(--text-muted);
	font-weight: 500;
}

/* MissedQuestionsModal */
.missed-questions-modal-qg {
	width: 600px;
	max-width: 90%;
}

.missed-questions-empty-qg {
	padding: 2em;
	text-align: center;
	color: var(--text-muted);
	font-size: 0.95em;
	line-height: 1.5;
}

.missed-questions-list-qg {
	display: flex;
	flex-direction: column;
	gap: 8px;
	padding: 1em;
	max-height: 500px;
	overflow-y: auto;
}

.missed-questions-item-qg {
	padding: 1em;
	border-radius: 6px;
	border: 2px solid transparent;
	cursor: pointer;
	transition: all 0.2s ease;
	display: flex;
	align-items: center;
	gap: 0.75em;
}

.missed-quiz-checkbox-qg {
	cursor: pointer;
	margin: 0;
	flex-shrink: 0;
}

.missed-questions-item-qg > .quiz-file-name-qg {
	flex: 1;
}

.missed-questions-item-qg:hover {
	background-color: var(--background-modifier-hover);
	border-color: var(--interactive-accent);
}

.quiz-file-name-qg {
	font-weight: 600;
	font-size: 1em;
}

.quiz-file-info-qg {
	font-size: 0.9em;
	color: var(--text-muted);
	margin-top: 0.25em;
}

/* Score color coding */
.score-red-qg {
	background-color: rgba(255, 59, 48, 0.1);
	border-color: rgba(255, 59, 48, 0.3);
}

.score-red-qg:hover {
	background-color: rgba(255, 59, 48, 0.15);
	border-color: rgba(255, 59, 48, 0.5);
}

.score-red-qg .quiz-file-name-qg {
	color: rgb(255, 69, 58);
}

.score-orange-qg {
	background-color: rgba(255, 149, 0, 0.1);
	border-color: rgba(255, 149, 0, 0.3);
}

.score-orange-qg:hover {
	background-color: rgba(255, 149, 0, 0.15);
	border-color: rgba(255, 149, 0, 0.5);
}

.score-orange-qg .quiz-file-name-qg {
	color: rgb(255, 159, 10);
}

.score-yellow-qg {
	background-color: rgba(255, 204, 0, 0.1);
	border-color: rgba(255, 204, 0, 0.3);
}

.score-yellow-qg:hover {
	background-color: rgba(255, 204, 0, 0.15);
	border-color: rgba(255, 204, 0, 0.5);
}

.score-yellow-qg .quiz-file-name-qg {
	color: rgb(255, 214, 10);
}

.score-white-qg {
	background-color: var(--background-secondary);
	border-color: var(--background-modifier-border);
}

.score-white-qg:hover {
	background-color: var(--background-modifier-hover);
	border-color: var(--interactive-accent);
}

.score-white-qg .quiz-file-name-qg {
	color: var(--text-normal);
}

/* Missed Questions Controls */
.missed-questions-controls-qg {
	display: flex;
	flex-direction: column;
	gap: 1em;
	padding: 1em;
	border-top: 1px solid var(--background-modifier-border);
	margin-top: 0.5em;
}

.order-control-container-qg {
	display: flex;
	align-items: center;
	gap: 0.75em;
}

.order-label-qg {
	font-size: 0.9em;
	color: var(--text-muted);
}

.order-dropdown-qg {
	flex: 1;
	padding: 0.5em;
	border-radius: 4px;
	border: 1px solid var(--background-modifier-border);
	background-color: var(--background-primary);
	color: var(--text-normal);
}

.generate-quiz-btn-qg {
	width: 100%;
	padding: 0.75em;
	font-weight: 600;
}

.generate-quiz-btn-qg:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Wrong Count Badge */
.wrong-count-badge-qg {
	display: inline-flex;
	align-items: center;
	padding: 0.3em 0.6em;
	background-color: var(--text-error);
	color: var(--text-on-accent);
	border-radius: 4px;
	font-size: 0.8em;
	font-weight: 600;
	white-space: nowrap; /* Prevent wrapping */
	flex-shrink: 0; /* Don't let it shrink */
}

/* Conversation Mode Modal */
.conversation-mode-modal-qg {
	max-width: 800px;
	max-height: 80vh;
	height: auto;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.conversation-mode-modal-qg .modal-content {
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	overflow: hidden;
}

.conversation-mode-content-qg {
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	gap: 1.5em;
	overflow-y: auto;
	overflow-x: hidden;
	padding: 0.5em;
}

.conversation-instructions-qg {
	background-color: var(--background-secondary);
	border-radius: 8px;
	padding: 1.25em;
	flex-shrink: 0; /* Don't shrink - keep instructions visible */
}

.conversation-instructions-qg h3 {
	margin-top: 0;
	margin-bottom: 0.75em;
	color: var(--text-normal);
}

.conversation-instructions-qg ol {
	margin: 0.5em 0;
	padding-left: 1.5em;
}

.conversation-instructions-qg li {
	margin: 0.5em 0;
	color: var(--text-muted);
}

.desktop-instructions-qg,
.mobile-instructions-qg {
	margin-top: 1em;
}

.desktop-instructions-qg strong,
.mobile-instructions-qg strong {
	color: var(--text-normal);
	display: block;
	margin-bottom: 0.5em;
}

.prompt-preview-container-qg {
	display: flex;
	flex-direction: column;
	flex: 1 1 auto;
	min-height: 0;
	gap: 0.75em;
	overflow: hidden; /* Container controls overflow */
}

.prompt-preview-container-qg h3 {
	margin: 0;
	color: var(--text-normal);
	flex-shrink: 0; /* Keep title visible */
}

.prompt-textarea-qg {
	width: 100%;
	flex: 1 1 auto;
	min-height: 0;
	padding: 1em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background-color: var(--background-primary);
	color: var(--text-normal);
	font-family: var(--font-monospace);
	font-size: 0.9em;
	line-height: 1.5;
	resize: none; /* Disable manual resize - let flexbox handle it */
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-y: auto; /* Scroll when content exceeds available space */
}

.prompt-textarea-qg:focus {
	outline: 2px solid var(--interactive-accent);
	outline-offset: 2px;
}

.conversation-buttons-qg {
	display: flex;
	gap: 0.75em;
	justify-content: flex-end;
	padding-top: 0.5em;
	border-top: 1px solid var(--background-modifier-border);
	flex-shrink: 0; /* Don't shrink - keep buttons visible */
}

.copy-prompt-btn-qg {
	padding: 0.75em 1.5em;
	font-weight: 600;
}

.close-btn-qg {
	padding: 0.75em 1.5em;
}

/* Back button in title bar */
.title-back-button-qg {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	color: var(--text-normal);
	transition: color 0.2s ease;
	margin-right: 0.5em;
	font-size: 1.2em;
}

.title-back-button-qg:hover {
	color: var(--interactive-accent);
}

/* Open ChatGPT dropdown */
.open-chatgpt-dropdown-qg {
	position: relative;
	display: inline-block;
}

.open-chatgpt-btn-qg {
	position: relative;
}

.dropdown-menu-qg {
	position: fixed;
	background-color: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
	z-index: 9999;
	min-width: 150px;
	padding: 0.25em 0;
	margin: 0;
	list-style: none;
	display: flex;
	flex-direction: column;
}

.dropdown-menu-qg li {
	list-style: none;
	margin: 0;
	padding: 0;
}

.dropdown-option-qg {
	display: block;
	width: 100%;
	padding: 0.5em 1em;
	border: none;
	background: transparent;
	color: var(--text-normal);
	cursor: pointer;
	text-align: left;
	font-size: 0.9em;
	transition: background-color 0.15s ease, color 0.15s ease;
	white-space: nowrap;
	text-decoration: none;
}

.dropdown-option-qg:hover {
	background-color: var(--background-modifier-hover);
	color: var(--text-normal);
}

.dropdown-menu-qg li:first-child .dropdown-option-qg {
	border-top-left-radius: 4px;
	border-top-right-radius: 4px;
}

.dropdown-menu-qg li:last-child .dropdown-option-qg {
	border-bottom-left-radius: 4px;
	border-bottom-right-radius: 4px;
}

/* ElevenLabs Credit Check Loading Modal */
.credit-check-loading-modal-qg {
	z-index: 20000 !important; /* Ensure it appears above quiz modal */
	width: 400px;
	max-width: 90%;
}

.credit-check-loading-content-qg {
	padding: 2em;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 1.5em;
}

.credit-check-spinner-qg {
	width: 48px;
	height: 48px;
	border: 4px solid var(--background-modifier-border);
	border-top: 4px solid var(--text-accent);
	border-radius: 50%;
	animation: spin-qg 1s linear infinite;
}

@keyframes spin-qg {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}

.credit-check-loading-text-qg {
	color: var(--text-normal);
	font-size: 1.1em;
	text-align: center;
}

/* ElevenLabs Credit Check Modal */
.elevenlabs-credit-check-modal-qg {
	z-index: 20000 !important; /* Ensure it appears above quiz modal */
	width: 500px;
	max-width: 90%;
}

.elevenlabs-credit-check-content-qg {
	padding: 1.5em;
	display: flex;
	flex-direction: column;
	gap: 1em;
}

.credit-warning-qg {
	background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 87, 34, 0.1) 100%);
	border: 2px solid var(--text-error);
	border-radius: 8px;
	padding: 1.25em;
	margin: 1.5em 0;
	box-shadow: 0 2px 8px rgba(255, 87, 34, 0.15);
}

.credit-warning-header-qg {
	display: flex;
	align-items: center;
	gap: 0.75em;
	margin-bottom: 0.75em;
}

.credit-warning-icon-qg {
	font-size: 1.5em;
	line-height: 1;
	flex-shrink: 0;
}

.credit-warning-text-qg {
	flex: 1;
}

.credit-warning-text-qg strong {
	color: var(--text-error);
	font-size: 1.1em;
	font-weight: 700;
	display: block;
}

.credit-warning-message-qg {
	color: var(--text-normal);
	margin-bottom: 0.75em;
}

.credit-warning-message-qg p {
	margin: 0;
	line-height: 1.6;
	font-size: 0.95em;
}

.credit-warning-instruction-qg {
	color: var(--text-muted);
	border-top: 1px solid rgba(255, 87, 34, 0.2);
	padding-top: 0.75em;
	margin-top: 0.75em;
}

.credit-warning-instruction-qg p {
	margin: 0;
	line-height: 1.5;
	font-size: 0.9em;
	font-style: italic;
}

.credit-info-qg {
	color: var(--text-normal);
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}

.credit-info-qg p {
	margin: 0.25em 0;
}

.disable-audio-option-qg {
	margin: 1em 0;
	padding: 1em;
	background-color: var(--background-secondary);
	border-radius: 6px;
	border: 1px solid var(--background-modifier-border);
}

.toggle-container-qg {
	display: flex;
	align-items: center;
	gap: 0.75em;
}

.toggle-label-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	cursor: pointer;
	font-size: 0.95em;
}

.toggle-checkbox-qg {
	width: 18px;
	height: 18px;
	cursor: pointer;
}

.credit-check-buttons-qg {
	display: flex;
	justify-content: flex-end;
	gap: 0.5em;
	margin-top: 1em;
}

.credit-check-buttons-qg button {
	min-width: 100px;
}

#credit-check-continue-btn-qg:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/* Style Selection */
.style-selection-description-qg {
	margin-bottom: 1em;
	color: var(--text-muted);
}

.styles-container-qg {
	display: flex;
	flex-direction: column;
	gap: 0.75em;
	margin-bottom: 1.5em;
}

.style-card-qg {
	padding: 1em;
	border: 2px solid var(--background-modifier-border);
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.2s ease;
	background-color: var(--background-secondary);
}

.style-card-qg:hover {
	border-color: var(--interactive-accent);
	background-color: var(--background-modifier-hover);
}

.style-card-qg.selected-qg {
	border-color: var(--interactive-accent);
	background-color: var(--interactive-accent-hover);
	box-shadow: 0 0 0 2px var(--interactive-accent);
}

.style-card-qg.selected-qg .style-card-header-qg,
.style-card-qg.selected-qg .style-card-description-qg {
	color: var(--text-on-accent) !important;
}

.style-card-header-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	margin-bottom: 0.5em;
	color: var(--text-normal);
	font-size: 1.1em;
}

.custom-badge-qg {
	font-size: 0.75em;
	padding: 0.25em 0.5em;
	background-color: var(--interactive-accent);
	color: var(--text-on-accent);
	border-radius: 4px;
	font-weight: 600;
}

.style-card-description-qg {
	color: var(--text-muted);
	font-size: 0.9em;
	line-height: 1.4;
}

.custom-style-option-qg {
	margin-top: 1.5em;
	padding: 1em;
	border-top: 2px solid var(--background-modifier-border);
}

.custom-label-qg {
	margin-bottom: 0.75em;
	color: var(--text-normal);
}

.custom-prompt-textarea-qg {
	width: 100%;
	padding: 0.75em;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background-color: var(--background-primary);
	color: var(--text-normal);
	font-family: var(--font-text);
	font-size: 0.9em;
	line-height: 1.5;
	resize: vertical;
	margin-bottom: 0.75em;
}

.custom-style-option-qg button {
	margin-right: 0.5em;
	margin-top: 0.5em;
}

.steps-list-qg {
	margin: 0.75em 0;
	padding-left: 1.5em;
}

.steps-list-qg li {
	margin: 0.5em 0;
	color: var(--text-muted);
}

.custom-style-card-qg {
	border-style: dashed !important;
}

.style-card-qg.disabled-qg {
	opacity: 0.5;
	cursor: not-allowed !important;
}

.style-card-qg.disabled-qg:hover {
	border-color: var(--background-modifier-border) !important;
	background-color: var(--background-secondary) !important;
}

.hidden-qg {
	display: none !important;
}

/* Gamification Styles */
.gamification-header-qg {
	display: flex;
	align-items: center;
	gap: 1em;
	margin-left: auto;
}

.streak-counter-qg {
	font-size: 0.9em;
	font-weight: 600;
	color: var(--text-normal);
	transition: all 0.3s ease;
	padding: 0.3em 0.6em;
	border-radius: 6px;
	background-color: var(--background-secondary);
	border: 1px solid var(--background-modifier-border);
	display: inline-flex;
	align-items: center;
	gap: 0.3em;
}

.timer-display-qg {
	font-size: 1em;
	color: var(--text-muted);
	font-family: var(--font-monospace);
}

/* Old canvas-based flame effect removed - now using CSS-based approach inspired by CodePen */

.question-timer-qg {
	font-size: 1.1em;
	font-weight: 600;
	color: var(--text-normal);
	padding: 0.25em 0.75em;
	border-radius: 6px;
	background-color: var(--background-secondary);
	border: 2px solid var(--background-modifier-border);
	font-family: var(--font-monospace);
}

.question-timer-warning-qg {
	color: #ff4500;
	border-color: #ff6347;
	background-color: rgba(255, 69, 0, 0.1);
	animation: timer-pulse-qg 0.5s ease-in-out infinite;
}

@keyframes timer-pulse-qg {
	0%, 100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.1);
	}
}

/* Confetti Effect */
.confetti-container-qg {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 10000;
	overflow: hidden;
}

.confetti-particle-qg {
	position: absolute;
	width: 10px;
	height: 10px;
	background-color: #ff4500;
	animation: confetti-fall-qg linear forwards;
	top: -10px;
}

@keyframes confetti-fall-qg {
	0% {
		transform: translateY(0) translateX(0) rotate(0deg);
		opacity: 1;
	}
	100% {
		transform: translateY(100vh) translateX(var(--confetti-x, 0)) rotate(720deg);
		opacity: 0;
	}
}

/* ElevenLabs API Key Info Modal */
.elevenlabs-api-info-modal-qg {
	max-width: 500px;
}

.elevenlabs-api-info-modal-qg ul {
	margin: 1em 0;
	padding-left: 1.5em;
}

.elevenlabs-api-info-modal-qg li {
	margin: 0.75em 0;
	line-height: 1.6;
}

.permission-description-qg {
	font-size: 0.9em;
	color: var(--text-muted);
	margin-top: 0.25em;
	margin-left: 1em;
	font-style: italic;
}

/* Quiz Summary Modal */
.quiz-summary-modal-qg {
	max-width: 600px;
}

.quiz-summary-card-qg {
	padding: 2em;
	background: var(--background-primary);
	border-radius: 12px;
	text-align: center;
}

.quiz-summary-card-qg h2 {
	margin-top: 0;
	color: var(--text-normal);
	font-size: 2em;
}

.summary-rating-container-qg {
	margin: 1.5em 0;
}

.summary-label-qg {
	font-size: 1.1em;
	color: var(--text-muted);
	margin-bottom: 0.5em;
}

.star-rating-qg {
	display: flex;
	justify-content: center;
	gap: 0.25em;
	font-size: 2em;
	line-height: 1;
}

.star-rating-star-qg {
	cursor: default;
	transition: transform 0.2s ease;
	filter: grayscale(100%);
}

.star-rating-star-qg.full {
	filter: grayscale(0%);
}

.star-rating-star-qg.quarter {
	position: relative;
	overflow: hidden;
}

.star-rating-star-qg.quarter::before {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	width: 25%;
	overflow: hidden;
	clip-path: inset(0 75% 0 0);
	filter: grayscale(0%);
}

.star-rating-star-qg.half {
	position: relative;
	overflow: hidden;
}

.star-rating-star-qg.half::before {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	width: 50%;
	overflow: hidden;
	clip-path: inset(0 50% 0 0);
	filter: grayscale(0%);
}

.star-rating-star-qg.three-quarter {
	position: relative;
	overflow: hidden;
}

.star-rating-star-qg.three-quarter::before {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	width: 75%;
	overflow: hidden;
	clip-path: inset(0 25% 0 0);
	filter: grayscale(0%);
}

.summary-stats-grid-qg {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 1em;
	margin: 2em 0;
}

.summary-stat-card-qg {
	background: var(--background-secondary);
	padding: 1.5em;
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
}

.stat-value-qg {
	font-size: 2em;
	font-weight: 700;
	color: var(--interactive-accent);
	margin-bottom: 0.25em;
}

.stat-label-qg {
	font-size: 0.9em;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.summary-score-breakdown-qg {
	margin: 1.5em 0;
}

.score-text-qg {
	font-size: 1.5em;
	color: var(--text-normal);
	font-weight: 600;
}

.summary-buttons-container-qg {
	display: flex;
	gap: 1em;
	justify-content: center;
	margin-top: 1.5em;
}

.share-results-btn-qg {
	padding: 1em 2em;
	font-size: 1.1em;
}

.summary-buttons-container-qg .mod-secondary {
	padding: 1em 2em;
	font-size: 1.1em;
}

/* Settings Tabs */
/* Plugin Banner */
.plugin-banner-qg {
	background: var(--background-secondary);
	border-radius: 8px;
	padding: 1.5em;
	margin-bottom: 2em;
	display: flex;
	flex-direction: column;
	gap: 1em;
	position: relative;
}

.plugin-banner-left-qg {
	display: flex;
	align-items: flex-start;
	gap: 1em;
	flex: 1;
}

.plugin-banner-icon-qg {
	width: 48px;
	height: 48px;
	flex-shrink: 0;
	color: #5C4B7A;
	display: flex;
	align-items: center;
	justify-content: center;
}

.plugin-banner-icon-qg svg {
	width: 100%;
	height: 100%;
}

.plugin-banner-name-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
	flex: 1;
}

.plugin-banner-title-qg {
	font-size: 1.5em;
	font-weight: 600;
	color: var(--text-normal);
	line-height: 1.2;
}

.plugin-banner-badges-qg {
	display: flex;
	gap: 0.5em;
	flex-wrap: wrap;
}

.plugin-banner-badge-qg {
	background: var(--background-primary);
	border-radius: 4px;
	padding: 0.25em 0.75em;
	font-size: 0.85em;
	font-weight: 500;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.plugin-banner-advanced-toggle-qg {
	position: absolute;
	top: 1.5em;
	right: 1.5em;
}

.plugin-banner-advanced-toggle-qg .setting-item {
	margin-bottom: 0;
}

.plugin-banner-advanced-toggle-qg .setting-item-name {
	font-size: 0.9em;
}

.plugin-banner-advanced-toggle-qg .setting-item-control {
	flex-shrink: 0;
}

.plugin-banner-actions-qg {
	display: flex;
	gap: 1em;
	flex-wrap: wrap;
}

.plugin-banner-action-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	padding: 0.5em 1em;
	background: var(--background-primary);
	border-radius: 4px;
	color: var(--text-muted);
	text-decoration: none;
	font-size: 0.9em;
	transition: background-color 0.2s, color 0.2s;
	cursor: pointer;
}

.plugin-banner-action-qg:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.plugin-banner-action-qg svg {
	width: 16px;
	height: 16px;
	flex-shrink: 0;
}

.plugin-banner-action-qg span {
	white-space: nowrap;
}

/* Export Modal */
.export-modal-qg {
	padding: 1.5em;
}

.export-format-button-qg {
	display: flex;
	align-items: center;
	gap: 1em;
	padding: 1em;
	margin-bottom: 0.75em;
	border: 2px solid var(--background-modifier-border);
	border-radius: 8px;
	cursor: pointer;
	transition: all 0.2s ease;
	background-color: var(--background-secondary);
}

.export-format-button-qg:hover {
	border-color: var(--interactive-accent);
	background-color: var(--background-modifier-hover);
}

.export-format-button-qg.selected-qg {
	border-color: var(--interactive-accent);
	background-color: var(--interactive-accent-hover);
	box-shadow: 0 0 0 2px var(--interactive-accent);
}

.export-format-icon-qg {
	flex-shrink: 0;
	color: var(--interactive-accent);
}

.export-format-icon-qg svg {
	width: 1.5em;
	height: 1.5em;
}

.export-format-text-qg {
	flex: 1;
}

.export-button-container-qg {
	margin-top: 1em;
}

.settings-tabs-container-qg {
	margin-top: 1em;
}

.settings-tabs-nav-qg {
	display: flex;
	border-bottom: none;
	gap: 0.5em;
	margin-bottom: 1.5em;
	flex-wrap: wrap;
}

.settings-tab-qg {
	background: transparent;
	border: none;
	padding: 0.6em 1.2em;
	cursor: pointer;
	color: #A0A0A0;
	font-size: 0.95em;
	font-weight: 500;
	transition: all 0.2s ease;
	border-radius: 4px;
}

.settings-tab-qg:hover {
	color: #A0A0A0;
	background: #3A3A3A;
}

.settings-tab-qg.is-active {
	color: #D0C8E0;
	background: #5C4B7A;
}

.settings-tabs-content-qg {
	position: relative;
}

.settings-tab-content-qg {
	display: none;
}

.settings-tab-content-qg.is-active {
	display: block;
}

/* Quiz Answer Spoiler Styles */
.quiz-legend-spoiler-container-qg {
	margin-top: 1.5em;
	margin-bottom: 1.5em;
}

.quiz-legend-reveal-button-qg {
	background: var(--interactive-normal);
	color: var(--text-normal);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	padding: 0.5em 1em;
	cursor: pointer;
	font-size: 0.9em;
	transition: background 0.2s, border-color 0.2s;
}

.quiz-legend-reveal-button-qg:hover {
	background: var(--interactive-hover);
	border-color: var(--background-modifier-border-hover);
}

.quiz-legend-content-qg {
	margin-top: 1em;
}

.quiz-answer-hidden-qg {
	/* Answer callouts will be hidden by inline style when not viewed */
}

/* Quiz Content Overlay Styles - Minimal Inline Banner */
.quiz-content-overlay-qg {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 1em;
	padding: 10px 14px;
	margin: 1em 1.5em 0 1.5em;
	border-radius: 8px;
	background: var(--background-primary-alt);
	border: none;
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.18);
	min-height: 42px;
	transition: background-color 0.15s ease;
	position: relative;
	z-index: 1;
}

.quiz-content-overlay-qg:hover {
	background: var(--background-secondary-alt);
}

.quiz-overlay-expanded-qg {
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
}

.quiz-attempts-panel-qg {
	margin: 0 1.5em 1em 1.5em;
	padding: 0.75em 1em 1em 1em;
	border-radius: 0 0 8px 8px;
	border: none;
	border-top: 1px solid rgba(255, 255, 255, 0.04);
	background: var(--background-primary-alt);
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.18);
}

.quiz-attempts-header-qg {
	display: flex;
	flex-direction: column;
	gap: 0.35em;
	margin-bottom: 0.75em;
	color: var(--text-muted);
	font-size: 0.85em;
}

.quiz-attempts-title-qg {
	font-weight: 600;
	color: var(--text-normal);
}

.quiz-attempts-summary-qg {
	font-size: 0.85em;
	color: var(--text-muted);
}

.quiz-attempts-list-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}

.quiz-attempt-item-qg {
	display: flex;
	justify-content: space-between;
	padding: 0.45em 0.6em;
	border-radius: 4px;
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	font-size: 0.85em;
	color: var(--text-muted);
}

.quiz-attempt-item-recent-qg {
	border-color: var(--interactive-accent);
	color: var(--text-normal);
	box-shadow: 0 0 0 1px rgba(var(--interactive-accent-rgb, 120, 82, 255), 0.25);
}

.quiz-attempt-item-date-qg {
	font-weight: 500;
}

.quiz-attempt-item-score-qg {
	font-weight: 600;
	color: var(--text-normal);
}

.quiz-attempt-item-recent-qg .quiz-attempt-item-score-qg {
	color: var(--interactive-accent);
}

/* Left section: icon + title + badges */
.quiz-overlay-left-section-qg {
	display: flex;
	align-items: center;
	gap: 10px;
	flex: 1;
	min-width: 0;
}

.quiz-overlay-icon-qg {
	color: var(--text-muted);
	display: flex;
	align-items: center;
	flex-shrink: 0;
	opacity: 0.85;
}

.quiz-overlay-icon-qg svg {
	width: 16px;
	height: 16px;
}

.quiz-overlay-title-qg {
	font-size: 0.9em;
	font-weight: 500;
	color: var(--text-normal);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	flex-shrink: 1;
}

/* Metadata badges */
.quiz-overlay-metadata-qg {
	display: flex;
	align-items: center;
	gap: 6px;
	flex-shrink: 0;
}

.quiz-badge-qg {
	display: inline-flex;
	align-items: center;
	padding: 2px 8px;
	border-radius: 10px;
	font-size: 0.75em;
	font-weight: 500;
	line-height: 1.4;
	white-space: nowrap;
}

.quiz-badge-neutral-qg {
	background: var(--background-modifier-border);
	color: var(--text-muted);
}

.quiz-badge-success-qg {
	background: rgba(34, 197, 94, 0.15);
	color: rgb(34, 197, 94);
}

.quiz-badge-warning-qg {
	background: rgba(234, 179, 8, 0.15);
	color: rgb(234, 179, 8);
}

.quiz-badge-danger-qg {
	background: rgba(239, 68, 68, 0.15);
	color: rgb(239, 68, 68);
}

/* Right section: buttons */
.quiz-overlay-right-section-qg {
	display: flex;
	align-items: center;
	gap: 6px;
	flex-shrink: 0;
}

/* Icon-only buttons */
.quiz-icon-button-qg {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 28px;
	height: 28px;
	padding: 0;
	border-radius: 4px;
	border: none;
	background: transparent;
	color: var(--text-muted);
	cursor: pointer;
	transition: all 0.15s ease;
	flex-shrink: 0;
}

.quiz-icon-button-qg:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

/* Converse Mode button - distinguished with green color */
.quiz-icon-button-qg.quiz-converse-button-qg {
	color: rgb(34, 197, 94); /* Green color */
}

.quiz-icon-button-qg.quiz-converse-button-qg:hover {
	background: rgba(34, 197, 94, 0.1);
	color: rgb(34, 197, 94);
}

.quiz-icon-button-qg .quiz-button-icon-qg {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 16px;
	height: 16px;
}

.quiz-icon-button-qg .quiz-button-icon-qg svg {
	width: 16px;
	height: 16px;
}

.quiz-expand-button-qg {
	margin-right: 4px;
}

.quiz-expand-button-qg.expanded {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

/* Reveal button active state */
.quiz-reveal-button-qg.quiz-reveal-active-qg {
	background: var(--background-modifier-hover);
	color: var(--interactive-accent);
}

/* Take Quiz button (primary action) */
.quiz-take-quiz-button-qg {
	display: inline-flex !important;
	align-items: center;
	justify-content: center;
	gap: 6px;
	padding: 7px 14px !important;
	border-radius: 5px;
	border: none !important;
	background: var(--interactive-accent) !important;
	background-color: var(--interactive-accent) !important;
	color: var(--text-on-accent) !important;
	font-size: 0.9em !important;
	font-weight: 600 !important;
	cursor: pointer;
	transition: all 0.15s ease;
	flex-shrink: 0;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

.quiz-take-quiz-button-qg:hover {
	background: var(--interactive-accent-hover) !important;
	background-color: var(--interactive-accent-hover) !important;
	transform: translateY(-1px);
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.16);
}

.quiz-take-quiz-button-qg .quiz-button-icon-qg {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 14px;
	height: 14px;
}

.quiz-take-quiz-button-qg .quiz-button-icon-qg svg {
	width: 14px;
	height: 14px;
}

.quiz-button-text-qg {
	white-space: nowrap;
}

/* Blurred content */
.quiz-content-hidden-qg {
	position: relative;
	filter: blur(7px);
	user-select: none;
	-webkit-user-select: none;
	transition: filter 0.3s ease;
	cursor: pointer !important;
}

.quiz-content-hidden-qg::after {
	content: "";
	position: absolute;
	inset: -6px;
	background: inherit;
	border-radius: 12px;
	filter: blur(18px);
	opacity: 0.25;
	pointer-events: none;
}

/* Unblurred content */
.quiz-content-revealed-qg {
	filter: none;
	pointer-events: auto;
	user-select: auto;
	-webkit-user-select: auto;
	transition: filter 0.3s ease;
}

/* Responsive adjustments */
@media (max-width: 600px) {
	.quiz-content-overlay-qg {
		flex-wrap: wrap;
		gap: 8px;
	}
	
	.quiz-overlay-left-section-qg {
		flex-basis: 100%;
	}
	
	.quiz-overlay-right-section-qg {
		flex-basis: 100%;
		justify-content: flex-end;
	}
	
	.quiz-overlay-title-qg {
		font-size: 0.85em;
	}
}

/* Quiz Summary More Details Section */
.quiz-more-details-container-qg {
	margin-top: 1.25em;
	margin-bottom: 0.75em;
	border-top: 1px solid var(--background-modifier-border);
	padding-top: 0.75em;
}

.quiz-more-details-toggle-qg {
	display: flex;
	align-items: center;
	gap: 0.5em;
	padding: 0.5em;
	border-radius: 4px;
	transition: background 0.2s;
}

.quiz-more-details-toggle-qg:hover {
	background: var(--background-modifier-hover);
}

.quiz-details-icon-qg {
	display: flex;
	align-items: center;
}

.quiz-details-label-qg {
	font-weight: 600;
	font-size: 1.1em;
	color: var(--text-normal);
}

.quiz-more-details-content-qg {
	margin-top: 0.75em;
	padding-left: 0.5em;
}

.quiz-details-stats-grid-qg {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 2em;
	margin-top: 0.5em;
}

@media (max-width: 600px) {
	.quiz-details-stats-grid-qg {
		grid-template-columns: 1fr;
		gap: 1.5em;
	}
}

.quiz-details-column-qg {
	display: flex;
	flex-direction: column;
	gap: 1.5em;
}

.quiz-details-section-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}

.quiz-details-section-title-qg {
	margin: 0;
	font-size: 0.85em;
	font-weight: 600;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: 0.5em;
}

.quiz-details-list-qg {
	display: flex;
	flex-direction: column;
	gap: 0.5em;
}

.quiz-detail-item-qg {
	display: flex;
	align-items: center;
	gap: 0.75em;
	padding: 0.75em;
	border-radius: 6px;
	background: var(--background-secondary);
	border: 1px solid var(--background-modifier-border);
	transition: all 0.2s ease;
	font-size: 0.9em;
}

.quiz-detail-item-qg:hover {
	background: var(--background-modifier-hover);
	border-color: var(--background-modifier-border-hover);
	transform: translateX(2px);
}

.quiz-detail-icon-qg {
	display: flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
	width: 1.5em;
	height: 1.5em;
	color: var(--text-muted);
	font-size: 1.1em;
}

.quiz-detail-content-qg {
	display: flex;
	flex-direction: column;
	gap: 0.15em;
	flex: 1;
	min-width: 0;
}

.quiz-detail-label-qg {
	font-size: 0.75em;
	font-weight: 500;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.3px;
}

.quiz-detail-value-qg {
	font-size: 0.95em;
	font-weight: 500;
	color: var(--text-normal);
}

.quiz-detail-item-qg[data-viewed="true"] .quiz-detail-icon-qg,
.quiz-detail-item-qg[data-viewed="true"] .quiz-detail-value-qg {
	color: hsl(25, 95%, 53%);
}

.quiz-detail-item-qg[data-viewed="false"] .quiz-detail-icon-qg,
.quiz-detail-item-qg[data-viewed="false"] .quiz-detail-value-qg {
	color: var(--text-muted);
	opacity: 0.6;
}

.quiz-detail-item-qg[data-enabled="true"] .quiz-detail-icon-qg,
.quiz-detail-item-qg[data-enabled="true"] .quiz-detail-value-qg {
	color: hsl(25, 95%, 53%);
}

.quiz-detail-item-qg[data-enabled="false"] .quiz-detail-icon-qg,
.quiz-detail-item-qg[data-enabled="false"] .quiz-detail-value-qg {
	color: var(--text-muted);
	opacity: 0.6;
}

.quiz-stat-highlight-qg .quiz-detail-icon-qg,
.quiz-stat-highlight-qg .quiz-detail-value-qg {
	color: var(--text-accent);
	font-weight: 600;
}

.quiz-stat-positive-qg .quiz-detail-icon-qg,
.quiz-stat-positive-qg .quiz-detail-value-qg {
	color: var(--text-success);
	font-weight: 600;
}

.quiz-stat-negative-qg .quiz-detail-icon-qg,
.quiz-stat-negative-qg .quiz-detail-value-qg {
	color: var(--text-error);
	font-weight: 600;
}

.quiz-stat-new-record-qg .quiz-detail-icon-qg,
.quiz-stat-new-record-qg .quiz-detail-value-qg {
	font-weight: 600;
	color: var(--text-accent);
}

.quiz-stat-match-qg .quiz-detail-icon-qg,
.quiz-stat-match-qg .quiz-detail-value-qg {
	font-weight: 600;
	color: var(--text-accent);
}

@keyframes pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.8;
	}
}
